/*
 * Vars
 */

$site-bg: #606578;
$site-bg-dark: #24262d;
$text-primary: #2d2b38;
$text-primary-dark: #d8d8d8;
$scheme: #2965B4;
$shadow: #333;
$content-bg: #fff;
$content-bg-dark: #2f2f2f;
$shadow-light: #0003;
$border-radius: 8px;
$screen-small: 30em;

/*
 * Globals
 */

html {
  --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, Ubuntu, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --scrollbarBG: #CFD8DC;
  --thumbBG: #90A4AE;
  font-size: 18px;
}

body {
  padding: 0 0.5rem;
  color: #333;
  background: $site-bg;
  scrollbar-width: thin;
  scrollbar-color: var(--thumbBG) var(--scrollbarBG);

  @media (max-width: $screen-small) {
    padding: 0;
  }

  @media (prefers-color-scheme: dark) {
    background: $site-bg-dark;
    color: $text-primary-dark;
  }
}

a,
a:link,
a:hover,
a:active {
  outline: none;
}

p a.external/*,
figure figcaption a.external*/ {
  background: transparent url("data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='external-link-alt' class='svg-inline--fa fa-external-link-alt fa-w-16' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='cornflowerblue' d='M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z'%3E%3C/path%3E%3C/svg%3E") top right no-repeat;
  background-size: 10px;
  padding-right: 10px;

  &.mailto {
    background: transparent url("data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='far' data-icon='envelope' class='svg-inline--fa fa-envelope fa-w-16' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='cornflowerblue' d='M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z'%3E%3C/path%3E%3C/svg%3E") top right no-repeat;
    background-size: 10px;
  }
}

h1, .h1,
h2, .h2,
h3, .h3,
h4, .h4,
h5, .h5,
h6, .h6 {
  font-weight: normal;

  a, a:hover, a:focus {
    /* padding: 0 0.8% 0.2rem;
    border-top: 1px solid #4191FF;
    border-bottom: 1px solid #4191FF; */
    color: #2965B4;
    text-decoration: none;
  }
}

h1, .h1 { font-size: 1.4rem; }
h2, .h2 { font-size: 1.3rem; }
h3, .h3 { font-size: 1.1rem; }
h4, .h4, h5, .h5 { font-size: 1rem; }

iframe { margin: 0 0 1rem 0; }

code {
  // Hack, 'Fira Mono' + Bootstrap defaults
  font-family: Hack, 'Fira Mono', SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

img {
  max-width: 100%;
}

figure {
  text-align: center;
  background: $text-primary;
  border-radius: $border-radius;
  box-shadow: 1px 1px 3px $shadow;

  a:hover {
    text-decoration: none;
  }

  b, p {
    color: #fff;
    margin: 0;
  }

  img {
    border-radius: $border-radius $border-radius 0 0;
  }

  figcaption {
    background: #2d2b38;
    padding: 0.4rem 0.8rem;
    border-radius: 0 0 $border-radius $border-radius;
  }

  .image {
    position: relative;
    text-align: center;
    
    .copyright {
      position: absolute;
      bottom: 0;
      right: 0;
      margin: 0.2rem;
      font-size: 0.6rem;
    }  
  }
}

#tallest.container {
  padding: 0;
}

#tallest {
  border-radius: $border-radius;
  //box-shadow: 0 0 3px 1px #333;
}

.container {
  max-width: 60rem;
}

.masthead-super {
  height: 1rem;
  padding: 0 0.5rem;
  font-size: 0.6rem;
  font-family: Hack, monospace, 'Courier New', Courier;
  color: #fff;
  text-shadow: #333 1px 1px 4px;

  * {
    cursor: default;
  }
}

.masthead {
  box-shadow: 0 0 .25rem $shadow;
  border-radius: $border-radius;

  .banner {
    min-height: 180px;
    padding: 1%;
    background: repeating-linear-gradient( 45deg, #2d2b38, #2d2b38 20px, #5d4672 20px, #5d4672 40px ) repeat center center #2d2b38;
    background-image: url("https://i.imgur.com/umisqTL.png");
    background-position: center -12rem;
    background-size: cover;
    border-radius: $border-radius $border-radius 0 0;
    box-shadow: inset 0 -.1rem .25rem rgba(0,0,0,.1);

    .avatar {
      padding: 0.2rem;
      width: 5.2rem;
      height: 5.2rem;
      background: radial-gradient(#519cff, #2965b4);
      border-radius: 100%;
      box-shadow: 0 0 1px #000 inset;
      
      .avatar-img {
        background: transparent url("https://i.imgur.com/EqHv0We.jpg") center/100% no-repeat;
        height: 4.8rem;
        border-radius: 100%;
        box-shadow: 0 0 2px #000 inset;

          background-size: 120%;
          background-position: 30% 0;
      }
    }

    .sharing-icons {
      align-items: flex-start;

      span {
        background: #fff;
      }
    }
  }

  .blog-nav {
    background: linear-gradient(to bottom, #519cff 0%, #2965b4 100%) repeat center center #2965b4;
    color: #fff;
    border-radius: 0 0 $border-radius $border-radius;

    /* Nav links */
    .nav-link {
      padding: 0.3rem 1rem;
      color: #fff;
      text-shadow: 0 1px 2px #333;

      &:hover, &:focus {
        color: #fff;
      }
    }
  }
}

#main {
  background: transparent;
  padding: 1rem 0.5rem 0;
  
  &.container {
    padding-left: 0;
    padding-right: 0;
  }
}

.sidebar {
  display: flex;
  flex-direction: column;

  .tag-cloud {
    text-align: center;

    a {
      display: inline-block;

      &:nth-child(3n+2) {
        transform: rotate(4deg);
      }

      &:nth-child(3n+4) {
        transform: rotate(-4deg);
      }
    }
  }

  .twitter-timeline {
    margin: 1rem 0 !important;
  }
}

/* Pagination */
.blog-pagination {
  margin-bottom: 1rem;
  
  & > .btn {
    margin: 0 1rem 0 0;
    background: #fff;
    border-color: transparent;
    border-radius: 2rem;
    box-shadow: 0 0 3px $shadow;
  }

  .btn-outline-primary:hover {
    color: $scheme;
  }
}


/*
 * Blog posts
 */

.blog-post,
.sidebar-blob {
  display: flex;
  flex-direction: column;
  margin: 1rem 0;
  padding: 1rem 1rem 0;
  border-radius: 0.4rem;
  box-shadow: 0 0 .25rem $shadow;

  @media (prefers-color-scheme: light) {
    background: $content-bg;
  }

  @media (prefers-color-scheme: dark) {
    background: $content-bg-dark;
  }

  &:first-child {
    margin-top: 0;
  }

  /*&:not(:last-child) {
    border-bottom: 1px dashed #aaa;
  }*/

  h2 {
    font-weight: bold;
  }

  .description {
    color: #999;
  }

  .metadata {
    margin: 0;
    font-size: 0.8rem;
    color: #999;

    .fa.fa-tag {
      vertical-align: bottom;
      color: $scheme;
    }
  }

  .content {
    margin: 1rem 0;

    .thumbnail {
      float: right;
      max-width: 256px;
      margin: 0 1rem 0.2rem 0;
      border-radius: $border-radius;
    }
  }

  footer {
    padding: 0 0.8%;
    margin: 0 0 0.4rem;
  }

  &.single {
    #TableOfContents {
      ul {
        padding-left: 0;
        counter-reset: item;

        ul {
          padding-left: 1rem;
        }

        li {
          list-style-type: none;

          &:before {
            content: counters(item, ".") " ";
            counter-increment: item;
          }
        }
      }
    }

    .footer {
      margin: 0;
      //border-top: .05rem solid #e5e5e5;
    }

    .sharing-icons {
      font-size: 1.6rem;
      margin: 1rem 0;

      a {
        span {
          min-width: 2.2rem;
        }
      }

      .sharethis {
        .text {
          position: absolute;
          top: 0;
          left: 0;
          margin: -0.2rem 0 0 -0.4rem;
          font-size: 0.8rem;
          cursor: default;
        }
      }
    }
  }

  article img {
    max-width: 100%;
    height: auto;
    margin: 13px auto;
  }
}

// Page elements
.highlight {
  margin: 0 0 1rem;

  pre {
    padding: 0.4rem;
    border-radius: 0.4rem;
    box-shadow: 1px 1px 3px 0 #0003;
    white-space: pre-wrap;
  }
}

p > code {
  padding: 0 0.2rem;
}


// Sharing Icons
.sharing-icons {
  padding: 0 0.2rem;

  span {
    min-width: 1.8rem;
    padding: 0.4rem 0;
    text-align: center;
    border-radius: 100%;
  }

  a {
    span {
      transition: all 0.6s ease-in-out;

      &:hover {
        transform: rotate(720deg);
      }
    }
  }

  .nav-item+.nav-item {
    margin-left: 0.6rem;
  }

  .fa.fa-share-square {
    font-size: 140%;
    transform: rotate(-8deg)
  }
}

.fa-twitter { color: #55acee; }
.fa-reddit-alien { color: #ff4500; }
.fa-tumblr { color: #35465c; }
.fa-facebook-f { color: #3b5998; }
.fa-flickr { color: #0063db; }
.fa-pinterest-p { color: #bd081c; }
.fa-linkedin { color: #0077b5; }
.fa-xing { color: #1a7576; }
.fa-hacker-news { color: #f60; }
.fa-telegram { color: #54a9eb; }
.fa-whatsapp { color: #25d366; }
.fa-discord { color: #7289DA; }
.fa-patreon { color: rgb(232, 91, 70); }
.fa-kofi { color: #29ABE0; }
.fa-github { color: #000; }
.fa-envelope { color: #777; }

.fa-exclamation-triangle { color: gold; }

/*
 * Footer
 */

#footer {
  margin: 1rem auto 1rem;
  text-align: center;
  background-color: #f9f9f9;
  border-top: .05rem solid #e5e5e5;
  border-radius: $border-radius;
  box-shadow: 0 0 3px $shadow;

  p:last-child {
    margin-bottom: 0;
  }

  & > .row {
    padding: 0 0 1rem;
    margin: 1rem 0;
  }

  @media (prefers-color-scheme: dark) {
    background: $content-bg-dark;
    border-color: $shadow;
  }
}

/*
 * Settings slider
 */

#settings-slider {
  padding: 1rem;
  background: #404351;
  box-shadow: inset 3px 0 6px #333;
  
  p {
    color: #fff;
  }

  .h1 {
    margin: 0 0 1rem 0;
  }
}

/*
 * Accessibility (a11y)
 */

.skip-to-main {
  position: absolute;
  top: -4rem;
  left: 0;
  font-size: 1rem;
  background: #000;
  color: #fff;
  padding: 0.8rem;
  z-index: 100;

  &:focus {
    top: 0;
  }
}

.dyslexia {
  font-family: OpenDyslexic-Regular !important;

  code {
    font-family: OpenDyslexic-Mono !important;
  }
}

.vcard {
  p {
    margin: 0;
  }

  .vcard-name {
  }

  .vcard-address {
  }

  .vcard-email {
  }

  .vcard-homepage {
  }

  .vcard-bio {
  }

  .vcard-link {
    text-align: right;
  }
}

/*
 * Specifics
 */

 #disqus_thread {
  margin-top: 1rem;
}

.twitter-timeline {
  min-height: 60rem !important;
}

.twitter-tweet {
  margin: 0 auto 1rem !important;
}

.youtube-player {
  display: block;
  width: 640px;
  max-width: 100%; 
  height: 360px;
  margin: 0 auto;
}

.map-embed {
  width: 100%;
  min-height: 18rem;
  border: 0;
  border-radius: $border-radius;
  box-shadow: 0 0 3px 1px $shadow-light;
}