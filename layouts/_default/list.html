{{ define "main" }}

  {{ $paginator := .Paginate (where .Site.RegularPages "Section" "in" .Site.Params.mainSections) }}

  {{ range $paginator.Pages }}
    {{ if .Site.Params.truncate }}
      {{ .Render "summary" }}
    {{ else }}
      {{ .Render "content" }}
    {{ end }}
  {{ end }}

  {{ if or (.Paginator.HasPrev) (.Paginator.HasNext) }}
    {{ partial "pagination.html" . }}
  {{ end }}

{{ end }}
